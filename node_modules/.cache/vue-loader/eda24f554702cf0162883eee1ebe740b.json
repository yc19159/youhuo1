{"remainingRequest":"D:\\11.27\\youhuo1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\11.27\\youhuo1\\src\\views\\Comment.vue?vue&type=style&index=0&id=0b60fd95&scoped=true&lang=css&","dependencies":[{"path":"D:\\11.27\\youhuo1\\src\\views\\Comment.vue","mtime":1574148250299},{"path":"D:\\11.27\\youhuo1\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\11.27\\youhuo1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\11.27\\youhuo1\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\11.27\\youhuo1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\11.27\\youhuo1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.comment_header{\r\n    padding: 0.15rem;\r\n    padding-bottom: 0.3rem;\r\n}\r\n.comment_header i{\r\n    font-size: 0.26rem;\r\n    font-weight: bold;\r\n    float: left;\r\n}\r\n.title{\r\n    float: left;\r\n    padding-left: 0.12rem;\r\n    font-size: 0.18rem;\r\n    font-weight: bold;\r\n}\r\n.comment_header .release{\r\n    float:right;\r\n    color:#FF5403;\r\n    font-size: 0.16rem;\r\n    font-weight: 500;\r\n    padding-right: 0.1rem;\r\n    margin-top: 0.12rem;\r\n}\r\n/* 商品信息样式 */\r\n.goods{\r\n    margin-top: 0.2rem;\r\n    padding-left: 0.12rem;\r\n    padding-right: 0.12rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.goods_title{\r\n    color:#000000;\r\n    font-size: 0.15rem;\r\n    font-weight: 600;\r\n    text-align: left;\r\n}\r\n.configure{\r\n    width:60%;\r\n    background-color: #F5F6FA;\r\n    padding-left: 0.02rem;\r\n    padding-right: 0.02rem;\r\n    border-radius: 0.12rem;\r\n    line-height: 0.2rem;\r\n    margin-top: 0.12rem;\r\n}\r\n.configure span{\r\n    color:#C8C8C8;\r\n    font-size: 0.08rem;\r\n    margin-left: 0.16rem;\r\n}\r\n/* 整体评价样式 */\r\n.all{\r\n    margin-top: 0.2rem;\r\n    padding-left: 0.12rem;\r\n}\r\n/* 文字评价 */\r\n.address{\r\n    margin-top: 0.2rem;\r\n}\r\n.address textarea{\r\n    width:3.43rem;\r\n    height:1rem;\r\n    margin-left: 0.12rem;\r\n    border:none;\r\n}\r\n/* 评论添加照片 */\r\n.address_photo{\r\n    /* width: 86%;\r\n    height: 1.2rem; */\r\n    width: 86%;\r\n    padding-top: 0.12rem;\r\n    padding-bottom: 0.12rem;\r\n    overflow: hidden;\r\n    /* overflow: auto; */\r\n    margin-top: 0.1rem;\r\n    margin-left: 0.12rem;\r\n    margin-right: 0.12rem;\r\n    padding-left: 0.12rem;\r\n    padding-right: 0.12rem;\r\n    border-radius: 0.12rem;\r\n    box-shadow: 10px 5px 10px 0px #ccc;\r\n}\r\n.add_img li{\r\n    width:30%;\r\n    height:1rem;\r\n    float: left;\r\n    margin-top: 0.08rem;\r\n    margin-left: 0.08rem;\r\n    border:1px solid #ccc;\r\n}\r\n.addImg>img{\r\n    width:100%;\r\n    height:1rem;\r\n}\r\n.close{\r\n    float: right;\r\n    width: 0.2rem;\r\n    height: 0.2rem;\r\n    margin-top: -0.1rem;\r\n    margin-right: -0.1rem;\r\n}\r\n.close>img{\r\n    width:100%;\r\n}\r\n/* .add li>img{\r\n    width: 100%;\r\n} */\r\n\r\n.shop{\r\n    margin-top: 0.3rem;\r\n    padding-left: 0.12rem;\r\n}\r\n.shop p{\r\n    text-align: left;\r\n    color:#666666;\r\n    font-weight: 800;\r\n    font-size: 0.16rem;\r\n    padding-bottom: 0.09rem;\r\n}\r\n/* 星星点评 */\r\n.StarsWrap{\r\n  width: 100%;\r\n  display: flex;\r\n  /* justify-content: space-between; */\r\n  height: 0.2rem;\r\n  margin: 0.1rem 0;\r\n}\r\n.StarsWrap li{\r\n  float: left;\r\n  margin-right: 0.1rem;\r\n}\r\n\r\n",{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n     <!-- 评论页面头部 -->\r\n     <div class=\"comment_header\">\r\n            <i @click='back'  class=\"el-icon-back\"></i>\r\n            <p class=\"title\">发表评价</p>\r\n            <p class=\"release\" @click=\"addComment\">发布</p>\r\n     </div>\r\n     <!-- 商品信息栏 -->\r\n     <div class=\"goods\">\r\n         <div class=\"goods_i\">\r\n             <img src=\"../assets/image/photo_item.png\" alt=\"商品信息照片\">\r\n         </div>\r\n         <div class=\"goods_test\">\r\n             <p class=\"goods_title\">\r\n                 Apple iPhone11 (A2332)\r\n                 128GB 黑色移动\r\n             </p>\r\n             <p class=\"configure\">\r\n                 <span class=\"color\">颜色:黑色</span>\r\n                 <span class=\"size\">规格:128GB</span> \r\n             </p>\r\n         </div>\r\n     </div>\r\n     <!-- 整体评价 -->\r\n     <div class=\"all\">\r\n         <div class=\"whole\">\r\n             <ul class=\"StarsWrap\">\r\n                    <li style=\"color:#666666;\">整体评价</li>\r\n                    <li v-for=\"(i,index) in list\" :key=\"index\" @click=\"clickStars(index)\">\r\n                      <img :src=\"xing>index?stara:starb\">\r\n                    </li>\r\n                    <li style=\"color:#9B9B9B;font-size: 0.14rem;\">{{rateScoreText}}</li>\r\n             </ul>\r\n         </div>\r\n     </div>\r\n     <!-- 添加评价文字 -->\r\n     <div class=\"address\">\r\n          <textarea name=\"\" id=\"\" placeholder=\"请评价高,立即开机使用,手机也不重,也不卡~\"\r\n                    v-model=\"content\">\r\n          </textarea>\r\n     </div>\r\n     <!-- 添加评价照片 -->\r\n     <div class=\"address_photo\">\r\n         <ul class=\"add_img\">\r\n          \r\n             <!-- 添加图片显示位置 -->\r\n              <!-- 照片点击上传显示位置 -->\r\n              <li v-for='(value, key) in imgs' class=\"addImg\" style=\"width:30%;height:1rem;border:1px solid #ccc;\">\r\n                    <a class=\"close\" @click=\"delImg(key)\"><img src=\"../assets/image/delete.png\" alt=\"\"></a>\r\n                   <img :src=\"getObjectURL(value)\">\r\n              </li>\r\n              <!-- 添加照片logo图标按钮-->\r\n              <li style=\"position: relative;\" v-if=\"imgLen>=4 ? false : true\">                 \r\n                 <img style=\"width:0.3rem;padding-left: 0.3rem;padding-top:0.4rem;\" src=\"../assets/image/camera_item.png\" alt=\"\">\r\n                 <input  style=\"position: relative;left:0.1rem;opacity: 0;z-index: 300;\" \r\n                        type=\"file\" class=\"upload\" @change=\"addImg\" ref=\"inputer\" multiple accept=\"image/png,image/jpeg,image/gif,image/jpg\"/>\r\n                 <span style=\"position: absolute;left:0.18rem;top:0.7rem\">添加图片</span>       \r\n              </li>\r\n             \r\n         </ul>\r\n         \r\n        \r\n     </div>\r\n     <!-- 店铺评价星级点击 -->\r\n     <div class=\"shop\">\r\n         <p>店铺评价</p>\r\n         <div class=\"delivery\">\r\n                <ul class=\"StarsWrap\">\r\n                    <li style=\"color:#666666;\">送货评价</li>\r\n                    <li v-for=\"(i,index) in deliveryList\" :key=\"index\" @click=\"deliveryStars(index)\">\r\n                        <img :src=\"xing2>index?stara:starb\">\r\n                    </li>\r\n                 </ul>\r\n         </div>\r\n         <div class=\"service\">\r\n                <ul class=\"StarsWrap\">\r\n                    <li style=\"color:#666666;\">服务态度</li>\r\n                    <li v-for=\"(i,index) in serviceList\" :key=\"index\" @click=\"serviceStars(index)\">\r\n                        <img :src=\"xing3>index?stara:starb\">\r\n                    </li>\r\n                 </ul>\r\n         </div>\r\n     </div>\r\n\r\n\r\n     <!-- <div class=\"form-group\">\r\n            <label class=\"control-label\">上传图片</label>\r\n            <div class=\"control-form\">\r\n              <p class=\"help-block\">(建议图片格式为：JPEG/BMP/PNG/GIF，大小不超过5M，最多可上传4张)</p>\r\n              <ul class=\"upload-imgs\">\r\n               \r\n                <li v-if=\"imgLen>=4 ? false : true\">\r\n                  <input  style=\"position: relative;left:0.1rem;opacity: 0;z-index: 300;\" \r\n                        type=\"file\" class=\"upload\" @change=\"addImg\" ref=\"inputer\" multiple accept=\"image/png,image/jpeg,image/gif,image/jpg\"/>\r\n                  <a class=\"add\"><i class=\"iconfont icon-plus\"></i><p>点击上传</p></a>\r\n                </li>\r\n               \r\n                <li v-for='(value, key) in imgs'>\r\n                  <p class=\"img\"><img :src=\"getObjectURL(value)\"><a class=\"close\" @click=\"delImg(key)\">×</a></p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n    </div> -->\r\n    \r\n\r\n   \r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n    import offImg from '@/assets/image/off.png'\r\n    import Img from '@/assets/image/half.png'\r\n    export default{\r\n        data(){\r\n             return{\r\n                content:'',//评论内容\r\n                picUrls:'',//评论图片URL\r\n                level:'',//星级点评级别\r\n                score:'',\r\n                rateScoreText: '',\r\n                rateScoreDesc: ['非常不满意', '不满意，比较差', '一般，还需改善', '比较满意', '非常满意'],\r\n                stara:offImg,//亮星星\r\n                list:[0,1,2,3,4],\r\n                deliveryList:[0,1,2,3,4],\r\n                serviceList:[0,1,2,3,4],\r\n                starb:Img,//暗星星\r\n                xing:0,\r\n                xing2:0,\r\n                xing3:0,\r\n                formDate:new FormData(),\r\n                imgs:{},\r\n                imgLen:0,\r\n                tupian:'',//评论图片文件\r\n                pic:'',\r\n                arr:[],\r\n                valve:false,//用户是否提交评论照片的状态,默认没有提交\r\n            }\r\n        },\r\n        methods:{\r\n            //返回上一级目录\r\n             back(){\r\n                this.$router.go(-1)\r\n            },\r\n            // 整体评价点击\r\n            clickStars(i){\r\n                this.rateScoreText=this.rateScoreDesc[i]\r\n                this.xing=i+1\r\n                this.level=i+1;\r\n                if(this.level<1){\r\n                    alert(\"请提交星级点评\")\r\n                }\r\n                console.log(this.level)\r\n            },\r\n            //店铺评价点击\r\n            deliveryStars(i){\r\n                this.xing2=i+1\r\n                // console.log(\"点击了送货\"+(i+1)+\"颗星\")\r\n            },\r\n            //服务态度点击\r\n            serviceStars(i){\r\n                this.xing3=i+1\r\n                // console.log(\"点击了服务\"+(i+1)+\"颗星\")\r\n            },\r\n            //点击添加评论\r\n            addComment(){\r\n                console.log(this.content)\r\n                this.$axios.post(\"http://192.168.0.22:8080/wx/comment/post\",{\r\n                    type:0,//类型\r\n                    valueId:1036002,//商品id\r\n                    content:this.content,//评论内容\r\n                    star:this.level,//评论星级\r\n                    hasPicture:true,//是否上传图片\r\n                    picUrls:this.arr //图片url数组\r\n                }).then(res=>{\r\n                    console.log(res)\r\n                })\r\n\r\n            },\r\n            //添加照片 \r\n            addImg(event){\r\n                let inputDOM=this.$refs.inputer;\r\n                //通过DOM获取数据\r\n                this.fil=inputDOM.files;\r\n                let file=this.$refs.inputer.files[0];\r\n                console.log(file);\r\n                //新建表单存储数据\r\n                let data=new FormData();\r\n                data.append('file',file);               \r\n                this.$axios.post(\"http://192.168.0.22:8080/wx/comment/uploadCommentPic\",data).then(res=>{\r\n                    //获取到照片追加到新的数组提交\r\n                      this.pic=res.data.data.picUrl\r\n                      this.arr.push(this.pic);\r\n               })  \r\n                let oldLen=this.imgLen;\r\n                let len=this.fil.length_oldLen;\r\n                if(len>2){\r\n                    alert('最多可以上传3张+您还可以上传'+(3-oldLen)+'张');\r\n                    return false;\r\n                }\r\n                for(let i=0;i<this.fil.length;i++){\r\n                    let size=Math.floor(this.fil[i].size/1024);\r\n                    if(size>5*1024*1024){\r\n                        alert('请选择5M以内的图片!');\r\n                        return false\r\n                    }\r\n                    this.imgLen++;\r\n                    this.$set(this.imgs,this.fil[i].name+'?'+new Date().getTime()+i,this.fil[i]);\r\n                   \r\n                }\r\n            },\r\n            //浏览器\r\n            getObjectURL(file){\r\n                var url=null;\r\n                if(window.createObjectURL!=undefined){\r\n                    url=window.createObjectURL(file);\r\n                }else if(window.URL!=undefined){\r\n                    url=window.URL.createObjectURL(file);\r\n                }else if(window.webkitURL!=undefined){\r\n                    url=window.webkitURL.createObjectURL(file);\r\n                }\r\n                // console.log(url(1));\r\n                return url;\r\n            },\r\n            // 删除照片\r\n            delImg(key){\r\n                this.$delete(this.imgs,key);\r\n                this.imgLen--;\r\n            },\r\n            submit(){\r\n                for(let key in this.imgs){\r\n                    let name=key.split('?')[0];\r\n                    this.formDate.append('multipartFiles',this.formData,{\r\n                        headers:{'Content-Type':'multipart/form-data'}\r\n                    }).then(res=>{\r\n                        this.alertShow=true;\r\n                    })\r\n                }\r\n            },\r\n        },  \r\n    }\r\n    \r\n\r\n  \r\n\r\n\r\n\r\n</script>  \r\n\r\n<style scoped>\r\n.comment_header{\r\n    padding: 0.15rem;\r\n    padding-bottom: 0.3rem;\r\n}\r\n.comment_header i{\r\n    font-size: 0.26rem;\r\n    font-weight: bold;\r\n    float: left;\r\n}\r\n.title{\r\n    float: left;\r\n    padding-left: 0.12rem;\r\n    font-size: 0.18rem;\r\n    font-weight: bold;\r\n}\r\n.comment_header .release{\r\n    float:right;\r\n    color:#FF5403;\r\n    font-size: 0.16rem;\r\n    font-weight: 500;\r\n    padding-right: 0.1rem;\r\n    margin-top: 0.12rem;\r\n}\r\n/* 商品信息样式 */\r\n.goods{\r\n    margin-top: 0.2rem;\r\n    padding-left: 0.12rem;\r\n    padding-right: 0.12rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.goods_title{\r\n    color:#000000;\r\n    font-size: 0.15rem;\r\n    font-weight: 600;\r\n    text-align: left;\r\n}\r\n.configure{\r\n    width:60%;\r\n    background-color: #F5F6FA;\r\n    padding-left: 0.02rem;\r\n    padding-right: 0.02rem;\r\n    border-radius: 0.12rem;\r\n    line-height: 0.2rem;\r\n    margin-top: 0.12rem;\r\n}\r\n.configure span{\r\n    color:#C8C8C8;\r\n    font-size: 0.08rem;\r\n    margin-left: 0.16rem;\r\n}\r\n/* 整体评价样式 */\r\n.all{\r\n    margin-top: 0.2rem;\r\n    padding-left: 0.12rem;\r\n}\r\n/* 文字评价 */\r\n.address{\r\n    margin-top: 0.2rem;\r\n}\r\n.address textarea{\r\n    width:3.43rem;\r\n    height:1rem;\r\n    margin-left: 0.12rem;\r\n    border:none;\r\n}\r\n/* 评论添加照片 */\r\n.address_photo{\r\n    /* width: 86%;\r\n    height: 1.2rem; */\r\n    width: 86%;\r\n    padding-top: 0.12rem;\r\n    padding-bottom: 0.12rem;\r\n    overflow: hidden;\r\n    /* overflow: auto; */\r\n    margin-top: 0.1rem;\r\n    margin-left: 0.12rem;\r\n    margin-right: 0.12rem;\r\n    padding-left: 0.12rem;\r\n    padding-right: 0.12rem;\r\n    border-radius: 0.12rem;\r\n    box-shadow: 10px 5px 10px 0px #ccc;\r\n}\r\n.add_img li{\r\n    width:30%;\r\n    height:1rem;\r\n    float: left;\r\n    margin-top: 0.08rem;\r\n    margin-left: 0.08rem;\r\n    border:1px solid #ccc;\r\n}\r\n.addImg>img{\r\n    width:100%;\r\n    height:1rem;\r\n}\r\n.close{\r\n    float: right;\r\n    width: 0.2rem;\r\n    height: 0.2rem;\r\n    margin-top: -0.1rem;\r\n    margin-right: -0.1rem;\r\n}\r\n.close>img{\r\n    width:100%;\r\n}\r\n/* .add li>img{\r\n    width: 100%;\r\n} */\r\n\r\n.shop{\r\n    margin-top: 0.3rem;\r\n    padding-left: 0.12rem;\r\n}\r\n.shop p{\r\n    text-align: left;\r\n    color:#666666;\r\n    font-weight: 800;\r\n    font-size: 0.16rem;\r\n    padding-bottom: 0.09rem;\r\n}\r\n/* 星星点评 */\r\n.StarsWrap{\r\n  width: 100%;\r\n  display: flex;\r\n  /* justify-content: space-between; */\r\n  height: 0.2rem;\r\n  margin: 0.1rem 0;\r\n}\r\n.StarsWrap li{\r\n  float: left;\r\n  margin-right: 0.1rem;\r\n}\r\n\r\n</style>\r\n"]}]}